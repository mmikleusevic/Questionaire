<EditForm OnValidSubmit="HandleValidSubmit" EditContext="editContext">
    <div class="form-group row mb-3">
        <label class="col-form-label col-md-3">UserName:</label>
        <div class="col-md-9">
            <div class="form-control-plaintext">@User?.UserName</div>
        </div>
    </div>
    <div class="form-group row mb-3">
        <label class="col-form-label col-md-3">Email:</label>
        <div class="col-md-9">
            <div class="form-control-plaintext">@User?.Email</div>
        </div>
    </div>
    <div class="roles">
        <div class="form-group mb-3 roles-row ">
            <label class="col-form-label col-md-3">Roles:</label>
            @foreach (var selectedRole in selectedRoles)
            {
                <div>
                    <Dropdown Color="DropdownColor.Secondary" Disabled="@(Roles.All(a => selectedRoles.Contains(a)))">
                        <DropdownToggleButton>
                            @selectedRole
                        </DropdownToggleButton>
                        <DropdownMenu>
                            @foreach (string role in Roles.Where(a => !selectedRoles.Contains(a)))
                            {
                                <DropdownItem @onclick="() => SelectRole(selectedRole, role)">
                                    @role
                                </DropdownItem>
                            }
                        </DropdownMenu>
                    </Dropdown>
                </div>
            }
        </div>
        <div class="role-add-remove">
            <div class="col-md-12 text-right">
                <Button Color="ButtonColor.Primary" @onclick="AddRole" Disabled="@(selectedRoles.Count == Roles.Count)">
                    + Add Role
                </Button>
                <Button Color="ButtonColor.Warning" @onclick="RemoveRole" Disabled="@(selectedRoles.Count <= 1)">-
                    Remove Role
                </Button>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 text-right modal-buttons">
            <Button Type="ButtonType.Submit" Color="ButtonColor.Primary" Class="float-end me-2">Submit</Button>
            <Button Type="ButtonType.Button" Color="ButtonColor.Danger" Class="float-end" @onclick="Hide">Close</Button>
        </div>
    </div>
</EditForm>